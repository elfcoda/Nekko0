<!DOCTYPE html>
<html>
{% load static %}
<!--
<script src="/static/polls/prism/prism.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
-->
<script src="{% static 'polls/googleapis/jquery.min.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>


<link href="{% static 'polls/prism/prism.css' %}" rel="stylesheet" />
<script src="{% static 'polls/prism/prism.js' %}"></script>
<link href="{% static 'polls/test.css' %}" rel="stylesheet" />
<!--
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
-->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link href="{% static 'polls/publish_article1.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'polls/article_style.css' %}" rel="stylesheet" type="text/css" />
<head>
    <script language="Javascript">
        function preview(){
            var content = document.getElementById("content").value;
            document.getElementById("preview").innerHTML = content;
            Prism.highlightAll();
        }

        function str2sign()
        {
            var content = document.getElementById("content").value;
            content = content.replace(/lt_cus/g, '<');
            content = content.replace(/gt_cus/g, '>');
            document.getElementById("content").value = content;
        }

        function sign2str()
        {
            var content = document.getElementById("content").value;
            content = content.replace(/</g, "lt_cus");
            content = content.replace(/>/g, "gt_cus");
            document.getElementById("content").value = content;
        }
    </script>
</head>

<body onload="preview()" class="body-publish">

<div class="container">
  <div class="publish center-block">
      <div class="leave-margin-top">
      </div>
      <form action="" method="post">{% csrf_token %}
          <div class="form-group half opacity-publish">
            <label class="publish-label">标题</label>
            {{ form.title }}
          </div>

          <div>
            <div class="form-group opacity-publish" onchange="preview()">
              <label class="publish-label">内容</label>
              {{ form.content }}
            </div>
            <div class="form-group preview-div">
              <label class="publish-label pre-label">预览</label>
              <div class="preview half preview-bg" id="preview">
              </div>
              <label class="publish-label pre-label"></label>
            </div>
          </div>

          <div class="form-group half offset opacity-publish">
            <label class="publish-label">Tags</label>
            {{ form.tags }}
          </div>
      <button type="submit" class="btn btn-primary offset-btn">Publish</button>
      <div class="publish-desc">
          说明：内容以 ' <span class="pub-key1">#####</span> ' 隔开，前面的表示展示，后面的表示内容详情。
      </div>
    </form>
      <button class="btn btn-primary publish-btn publishbtn-left1" onclick="sign2str()">Sign2Str</button>
      <button class="btn btn-primary publish-btn publishbtn-left2" onclick="str2sign()">Str2Sign</button>
    <div class="leave-margin-bottom">
    </div>
  </div>
</div>

</body>
</html>
