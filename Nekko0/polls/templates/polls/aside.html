{% load static %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>

<script type="text/javascript">
  function likemeOp()
  {
    $.get("{% url 'polls:likemeOP' %}", {'op': '1'}, function(ret){
      document.getElementById("like-me-count").innerHTML = ret.r;
    })
    addLikeMeDiv();
  }

  function likemeGet()
  {
    $.get("{% url 'polls:likemeOP' %}", {'op': '2'}, function(ret){
      document.getElementById("like-me-count").innerHTML = ret.r;
    })
  }

  function addLikeMeDiv(){
    var heartColor = "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")";
    var animationName = "likeMeAnimation" + Math.floor(Math.random() * 4);

    var sDiv = "";
    sDiv += "<div class='like-me-1 like-me-animation color-random' onclick='likemeOp()'>";
    sDiv += "<svg class='icon' aria-hidden='true'>";
    sDiv += "<use xlink:href='#icon-aixinshixin'></use>";
    sDiv += "</svg>";
    sDiv += "</div>";

    var jqHeartDiv = $(sDiv);
    jqHeartDiv.css({
      "-webkit-animation-name": animationName,
      "animation-name": animationName,
      "color": heartColor
    });

    $("#gen-colored-heart").append(jqHeartDiv);
  }

</script>

<aside>
  <div class="findme">
    <div class="my-avatar-outer">
      <div class="my-avatar">
        <img class="my-avatar-img" src="{% static 'polls/images/avatar.jpg' %}"></img>
      </div>
    </div>
    <div class="catch-me">
      <div class="catch-me-1">
        <a href="http://music.163.com/#/user/home?id=68362002" class="notextdeco" target="_blank">
          <div class="catch-me-1-1 cur-pointer">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-musiccloud-copy"></use>
            </svg>
            <header class="tooltiptext" name="tooltip-po">&nbsp;网易云音乐&nbsp;</header>
          </div>
        </a>
        <a href="" class="notextdeco">
          <div class="catch-me-1-2 cur-pointer">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-lol"></use>
            </svg>
            <header class="tooltiptext" name="tooltip-po">&nbsp;艾欧: 终结谷yy&nbsp;</header>
          </div>
        </a>
        <a href="https://space.bilibili.com/21352320/#/favlist" class="notextdeco" target="_blank">
          <div class="catch-me-1-3 cur-pointer">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-bili"></use>
            </svg>
            <header class="tooltiptext" name="tooltip-po">&nbsp;死宅乐园&nbsp;</header>
          </div>
        </a>
      </div>
      <div class="catch-me-2">
        <a href="" class="notextdeco">
          <div class="catch-me-2-1 cur-pointer">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-we_chat_l"></use>
            </svg>
            <header class="tooltiptext" name="tooltip-po">&nbsp;微信: Kalisplu&nbsp;</header>
          </div>
        </a>
        <a href="https://user.qzone.qq.com/707935952" class="notextdeco" target="_blank">
          <div class="catch-me-2-2 cur-pointer">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-QQ"></use>
            </svg>
            <header class="tooltiptext po-5" name="tooltip-po">&nbsp;QQ&nbsp;</header>
          </div>
        </a>
        <a href="" class="notextdeco">
          <div class="catch-me-2-3 cur-pointer">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-gongzhonghao"></use>
            </svg>
            <header class="tooltiptext po-5" name="tooltip-po">&nbsp;>_<&nbsp;</header>
          </div>
        </a>
        <a href="" class="notextdeco">
          <div class="catch-me-2-4 cur-pointer">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-github"></use>
            </svg>
            <header class="tooltiptext po-5" name="tooltip-po">&nbsp;>_<&nbsp;</header>
          </div>
        </a>
      </div>
    </div>
  </div>

  <div class="likeme">
    <div class="empty-div-top"></div>
    <div class="like-me-text">OK，很酷！</div>
    <div class="click-like-me">
      <div class="like-me-1" onclick="likemeOp()">
        <svg class="icon" aria-hidden="true">
          <use xlink:href="#icon-aixinshixin"></use>
        </svg>
      </div>
      <div class="like-me-0" onclick="alert('服务器已拒绝您的请求！[doge]')">
        <svg class="icon" aria-hidden="true">
          <use xlink:href="#icon-heart-broken"></use>
        </svg>
      </div>
    </div>
    <div class="click-like-me-text">
      <div class="like-me-text-1" id="like-me-count">0</div>
      <div class="like-me-text-0">0</div>
    </div>

    <div id='gen-colored-heart'>
    </div>

  </div>

  <div class="latest-update">
    <header class="de-header">
      <div class="decorate-header"></div>
      <div class="decorate-header-shadow"></div>
    </header>
    <div class="la-update"></div>
    <div class="la-update"></div>
    <div class="la-update"></div>
    <div class="cls-margin-bottom"></div>
  </div>
  <div class="talktome">
    <header class="de-header">
      <div class="decorate-header"></div>
      <div class="decorate-header-shadow"></div>
    </header>
    <div class="la-talk"></div>
    <div class="la-talk"></div>
    <div class="cls-margin-bottom"></div>
  </div>
  <div class="read">
    <header class="de-header">
      <div class="decorate-header"></div>
      <div class="decorate-header-shadow"></div>
    </header>
    <div class="la-read"></div>
    <div class="la-read"></div>
    <div class="cls-margin-bottom"></div>
  </div>
  <div class="closeaside"></div>
</aside>
